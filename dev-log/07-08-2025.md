# Spring Fundamentals & Basic Features

## 1. What is Spring?

Spring is a comprehensive Java framework for building modern, scalable, and secure applications.

### Core Spring Projects
| Project                  | Purpose                            |
|--------------------------|------------------------------------|
| Spring Boot              | Build anything (fast startup, embedded server) |
| Spring Cloud             | Coordinate anything (microservices, distributed systems) |
| Spring Cloud Data Flow   | Connect anything (data pipelines, streaming, batch processing) |

---

## 2. Spring Framework Modules

| Module              | Description                                  |
|---------------------|----------------------------------------------|
| Spring Core         | IoC (Inversion of Control), AOP (Aspect-Oriented Programming) |
| Spring Data Access  | Transaction management, MyBatis integration |
| Web Servlet         | Spring MVC for building web applications     |
| Integration         | Email, scheduling, messaging (AMQP), security |

Learn more: https://spring.io/projects/spring-framework#learn

---

## 3. Inversion of Control (IoC)

Spring is fundamentally built on IoC (Inversion of Control).

- Dependency Injection (DI) is the implementation of IoC.
- The IoC container is responsible for:
    - Instantiating and managing beans
    - Automatically injecting dependencies

---

## 4. Main Class in Spring Boot

The entry point of a Spring Boot application:

```java
@SpringBootApplication
public class CommunityApplication {

    public static void main(String[] args) {
        SpringApplication.run(CommunityApplication.class, args);
    }
}
```

### What @SpringBootApplication Does

This annotation includes:
1. @Configuration: Declares this class contains Spring bean definitions.
2. @EnableAutoConfiguration: Enables Spring Boot's auto-configuration.
3. @ComponentScan: Scans for components (@Controller, @Service, @Repository, etc.)

---

## 5. Testing the Spring Context

To test Spring components using the IoC container:

### Setup for Spring Test Class

```java
@SpringBootTest
@ContextConfiguration(classes = CommunityApplication.class)
class CommunityApplicationTests implements ApplicationContextAware {

    private ApplicationContext applicationContext;

    @Override
    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {
        this.applicationContext = applicationContext;
    }
}
```

- @SpringBootTest boots the application context for integration testing.
- @ContextConfiguration loads the main configuration class.
- ApplicationContextAware allows manual access to the IoC container.

---

## 6. DAO Layer: Accessing the Database

### 1. Define the DAO Interface

```java
package com.haoshe.community.dao;

public interface AlphaDao {
    String select();
}
```

### 2. Provide an Implementation

```java
@Repository
public class AlphaDaoHibernateImpl implements AlphaDao {
    @Override
    public String select() {
        return "Hibernate";
    }
}
```

### 3. Test DAO Access

```java
@Test
public void testAlphaDao() {
    AlphaDao alphaDao = applicationContext.getBean(AlphaDao.class);
    System.out.println(alphaDao.select()); // Should print "Hibernate"
}
```

This test confirms that the Spring container is properly configured and able to create and inject DAO components.

Other similar tests (e.g., for services, controllers, etc.) follow the same pattern and are not included here to avoid redundancy.

---

## Summary

- Spring Boot simplifies project setup and configuration.
- The IoC container manages bean lifecycle and dependencies.
- One representative test was used to confirm that bean retrieval and dependency injection work correctly.
- Additional component tests follow the same approach and are skipped here for brevity.

---

## Reflection and Next Steps

- Successfully tested Spring Boot configuration and IoC container functionality.
- Verified database access layer through a simple DAO implementation.

